<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Family Home App</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">

    <header class="topbar">
      <div>
        <h1 id="groupName">Gruppo: Famiglia</h1>
        <p class="subtitle">Gestione faccende di casa</p>
      </div>
      <div class="current-user">
        <span id="currentUserAvatar" class="avatar">üôÇ</span>
        <span id="currentUserName" class="user-name">Nessun utente</span>
      </div>
    </header>

    <main>
      <!-- Sezione: scelta gruppo / utente -->
      <section class="card">
        <h2>Impostazioni iniziali</h2>
        <div class="field-row">
          <label for="groupInput">Nome gruppo</label>
          <input id="groupInput" type="text" placeholder="Es. Famiglia, Coinquilini..." />
          <button id="saveGroupBtn">Salva gruppo</button>
        </div>

        <div class="field-row">
          <label for="userFirstName">Nome</label>
          <input id="userFirstName" type="text" placeholder="Es. Mario" />
        </div>
        <div class="field-row">
          <label for="userLastName">Cognome</label>
          <input id="userLastName" type="text" placeholder="Es. Rossi" />
        </div>
        
        <div class="field-row">
          <label for="userAvatar">Emoji/avatar (opzionale)</label>
          <input id="userAvatar" type="text" placeholder="Es. üòé, üê±, üå∏" maxlength="2" />
        </div>
        
        <div class="field-row">
          <label for="userPhoto">Foto profilo (opzionale)</label>
          <input id="userPhoto" type="file" accept="image/*" />
          <p class="note">La foto verr√† caricata online e usata per identificarti nell'app.</p>
        </div>
        
        <button id="saveUserBtn" class="primary-btn">Registra/aggiorna utente nel gruppo</button>
        <p class="note">
          Questo utente verr√† sincronizzato per il gruppo corrente (es. "Famiglia") e sar√† visibile anche agli altri dispositivi.
        </p>

        
      </section>

      <!-- Prenotazioni: lavatrice / stendini / doccia -->
      <section class="card">
        <h2>Prenotazioni rapide</h2>
        <div class="bookings">
          <div class="booking-item">
            <h3>Lavatrice</h3>
            <p id="washingInfo" class="booking-info">Nessuno ha prenotato</p>
            <button data-type="washing" class="book-btn">Prenota per me</button>
            <button data-type="washing" class="clear-booking-btn">Libera</button>
          </div>
          <div class="booking-item">
            <h3>Stendino 1</h3>
            <p id="rack1Info" class="booking-info">Nessuno ha prenotato</p>
            <button data-type="rack1" class="book-btn">Prenota per me</button>
            <button data-type="rack1" class="clear-booking-btn">Libera</button>
          </div>
          <div class="booking-item">
            <h3>Stendino 2</h3>
            <p id="rack2Info" class="booking-info">Nessuno ha prenotato</p>
            <button data-type="rack2" class="book-btn">Prenota per me</button>
            <button data-type="rack2" class="clear-booking-btn">Libera</button>
          </div>
          <div class="booking-item">
            <h3>Doccia</h3>
            <p id="showerInfo" class="booking-info">Nessuno ha prenotato</p>
            <button data-type="shower" class="book-btn">Prenota per me</button>
            <button data-type="shower" class="clear-booking-btn">Libera</button>
          </div>
        </div>
      </section>

      <!-- Lista della spesa -->
      <section class="card">
        <h2>Lista della spesa</h2>
        <form id="shoppingForm" class="inline-form">
          <input id="shoppingInput" type="text" placeholder="Aggiungi elemento..." required />
          <button type="submit" class="primary-btn">+</button>
        </form>
        <ul id="shoppingList" class="shopping-list"></ul>
      </section>

      <!-- Lavagna messaggi -->
      <section class="card">
        <h2>Lavagna di casa</h2>
        <form id="boardForm">
          <textarea id="boardInput" rows="2" placeholder="Scrivi un pensiero o comunicazione..."></textarea>
          <button type="submit" class="primary-btn">Pubblica</button>
        </form>
        <ul id="boardMessages" class="board-list"></ul>
      </section>

      <!-- Prenotazione pulizie -->
      <section class="card">
        <h2>Pulizie settimanali</h2>
        <p class="note">Per ora √® una selezione locale; poi la colleghiamo alla settimana e la condividiamo.</p>
        <div class="cleaning-grid">
          <label class="cleaning-item">
            <input type="checkbox" data-zone="cucina" />
            <span>Cucina</span>
          </label>
          <label class="cleaning-item">
            <input type="checkbox" data-zone="sala" />
            <span>Sala</span>
          </label>
          <label class="cleaning-item">
            <input type="checkbox" data-zone="bagno_piccolo" />
            <span>Bagno piccolo</span>
          </label>
          <label class="cleaning-item">
            <input type="checkbox" data-zone="bagno_grande" />
            <span>Bagno grande</span>
          </label>
        </div>
      </section>
    </main>

    <footer>
      <p>Tip: usa ‚ÄúAggiungi alla schermata Home‚Äù per trasformarla in app üòä</p>
    </footer>
  </div>

  <script src="app.js" type="module"></script>
</body>
</html>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

    // ‚¨áÔ∏è la tua config qui
    const firebaseConfig = {
      apiKey: "API_KEY",
      authDomain: ".....firebaseapp.com",
      projectId: ".....",
      storageBucket: ".....appspot.com",
      messagingSenderId: ".....",
      appId: "....."
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Esponiamo solo app e db
    window._firebase = { app, db };
  </script>

  <script src="app.js" type="module"></script>

</body>
</html>
