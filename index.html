<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Corso Montevecchio 66</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">

    <!-- üîµ SCHERMATA 1: LOGIN / REGISTRAZIONE -->
    <div id="loginScreen" class="screen screen-login">
      <div class="login-card">
        <h1>Benvenuto üëã</h1>
        <p class="subtitle">
          Registrati per la casa <strong>Corso Montevecchio 66</strong>
        </p>

        <div class="avatar-large-wrapper">
          <div id="loginAvatarPreview" class="avatar-large">
            <span>üôÇ</span>
          </div>
        </div>

        <div class="field-row">
          <label for="loginFirstName">Nome</label>
          <input id="loginFirstName" type="text" placeholder="Es. Mario" />
        </div>
        <div class="field-row">
          <label for="loginLastName">Cognome</label>
          <input id="loginLastName" type="text" placeholder="Es. Rossi" />
        </div>

        <div class="field-row">
          <label>Foto profilo</label>
          <div class="photo-buttons">
            <button id="openCameraBtn" type="button">üì∑ Scatta foto</button>
            <label class="file-label">
              üìÅ Da galleria
              <input id="photoFileInput" type="file" accept="image/*" />
            </label>
          </div>
          <p class="note">
            Se possibile usa la fotocamera. In alternativa puoi scegliere una foto dalla galleria.
          </p>
        </div>

        <!-- Pannello fotocamera -->
        <div id="cameraPanel" class="camera-panel hidden">
          <video id="cameraVideo" autoplay playsinline></video>
          <div class="camera-buttons">
            <button id="takePhotoBtn" type="button">üì∏ Scatta</button>
            <button id="closeCameraBtn" type="button">Chiudi</button>
          </div>
        </div>

        <button id="registerBtn" class="primary-btn" type="button">
          Entra in casa
        </button>

        <p class="note tiny">
          I dati sono salvati solo su questo dispositivo (nessun server, nessun costo).
        </p>
      </div>
    </div>

    <!-- üü¢ SCHERMATA 2: CASA / GRUPPO -->
    <div id="mainScreen" class="screen screen-main">
      <header class="topbar">
        <div>
          <h1 id="groupName">Corso Montevecchio 66</h1>
          <p class="subtitle">Gestione faccende di casa</p>
        </div>
        <div class="current-user">
          <span id="currentUserAvatar" class="avatar"></span>
          <span id="currentUserName" class="user-name"></span>
        </div>
      </header>

      <main>
        <!-- HOME: MENU SEZIONI -->
        <div id="homeSections" class="home-sections">
          <button class="section-tile" data-section="laundry">
            <div class="section-icon">üß∫</div>
            <div class="section-text">
              <h2>Lavatrice</h2>
              <p>Prenota lavaggio e stendini</p>
            </div>
          </button>

          <button class="section-tile" data-section="shower">
            <div class="section-icon">üöø</div>
            <div class="section-text">
              <h2>Doccia</h2>
              <p>Prenota la doccia con controllo boiler</p>
            </div>
          </button>

          <button class="section-tile" data-section="cleaning">
            <div class="section-icon">üßπ</div>
            <div class="section-text">
              <h2>Pulizie</h2>
              <p>Organizza le zone da pulire</p>
            </div>
          </button>

          <button class="section-tile" data-section="shopping">
            <div class="section-icon">üõí</div>
            <div class="section-text">
              <h2>Lista della spesa</h2>
              <p>Gestisci lista e lavagna di casa</p>
            </div>
          </button>
        </div>

        <!-- üîµ SOTTO-SCHERMATA: LAVATRICE -->
        <div id="laundryScreen" class="subscreen">
          <div class="subheader">
            <button class="back-btn" data-back="home">‚Üê Indietro</button>
            <h2>Lavatrice & stendini</h2>
          </div>

          <section class="card">
            <p class="note">
              Puoi prenotare fino a <strong>2 lavatrici</strong> alla volta (2 stendini disponibili).
              Ogni stendino rimane occupato per <strong>48 ore</strong> dalla data/ora di inizio lavatrice.
            </p>

            <div class="field-row">
              <label for="laundryDateTime">Data e ora della lavatrice</label>
              <input id="laundryDateTime" type="datetime-local" />
            </div>
            <button id="laundryBookBtn" type="button" class="primary-btn">
              Prenota lavatrice
            </button>

            <p id="laundryStatusMessage" class="note"></p>
          </section>

          <section class="card">
            <h3>Prenotazioni attive</h3>
            <ul id="laundryList" class="booking-list"></ul>
            <p class="note tiny">
              Le prenotazioni scadono automaticamente dopo 48 ore dall'orario di inizio.
            </p>
          </section>
        </div>

        <!-- üîµ SOTTO-SCHERMATA: DOCCIA -->
        <div id="showerScreen" class="subscreen">
          <div class="subheader">
            <button class="back-btn" data-back="home">‚Üê Indietro</button>
            <h2>Doccia & boiler</h2>
          </div>

          <section class="card">
            <p class="note">
              Ogni doccia occupa uno slot di <strong>90 minuti</strong> (tempo doccia + ricarica boiler).
              Puoi prenotare un orario e verr√† visualizzato negli slot.
            </p>

            <div class="field-row">
              <label for="showerDateTime">Data e ora della doccia</label>
              <input id="showerDateTime" type="datetime-local" />
            </div>
            <button id="showerBookBtn" type="button" class="primary-btn">
              Prenota doccia
            </button>
          </section>

          <section class="card">
            <h3>Prossime 5 docce</h3>
            <div id="showerSlots" class="slot-list"></div>
            <p class="note tiny">
              Gli slot scaduti (dopo 90 minuti dall'inizio) vengono rimossi automaticamente.
            </p>
          </section>

          <!-- Dialogo conflitti slot -->
          <div id="showerConflictDialog" class="dialog hidden">
            <p>
              ‚ö†Ô∏è <strong>Attenzione:</strong> lo slot che hai scelto si sovrappone a una doccia gi√† prenotata.
              Puoi scegliere un altro orario oppure prenotare comunque, facendo attenzione al boiler.
            </p>
            <div class="dialog-buttons">
              <button id="showerChangeSlotBtn" type="button">Scegli un altro orario</button>
              <button id="showerConfirmSlotBtn" type="button" class="primary-btn">
                Prenota comunque
              </button>
            </div>
          </div>

          <p class="note tiny" style="margin-top: 8px; text-align: center;">
            üòÖ <strong>Ricorda:</strong> controlla sempre il boiler prima di entrare in doccia,
            per assicurarti che l'acqua sia davvero calda!
          </p>
        </div>

        <!-- üîµ SOTTO-SCHERMATA: PULIZIE -->
        <div id="cleaningScreen" class="subscreen">
          <div class="subheader">
            <button class="back-btn" data-back="home">‚Üê Indietro</button>
            <h2>Pulizie settimanali</h2>
          </div>

          <section class="card">
            <p class="note">
              Seleziona le zone che ti prendi in carico questa settimana.
              Le spunte sono salvate solo su questo dispositivo.
            </p>
            <div class="cleaning-grid">
              <label class="cleaning-item">
                <input type="checkbox" data-zone="cucina" />
                <span>Cucina</span>
              </label>
              <label class="cleaning-item">
                <input type="checkbox" data-zone="sala" />
                <span>Sala</span>
              </label>
              <label class="cleaning-item">
                <input type="checkbox" data-zone="bagno_piccolo" />
                <span>Bagno piccolo</span>
              </label>
              <label class="cleaning-item">
                <input type="checkbox" data-zone="bagno_grande" />
                <span>Bagno grande</span>
              </label>
            </div>
          </section>
        </div>

        <!-- üîµ SOTTO-SCHERMATA: LISTA SPESA + LAVAGNA -->
        <div id="shoppingScreen" class="subscreen">
          <div class="subheader">
            <button class="back-btn" data-back="home">‚Üê Indietro</button>
            <h2>Lista della spesa & lavagna</h2>
          </div>

          <section class="card">
            <h2>Lista della spesa</h2>
            <form id="shoppingForm" class="inline-form">
              <input id="shoppingInput" type="text" placeholder="Aggiungi elemento..." required />
              <button type="submit" class="primary-btn">+</button>
            </form>
            <ul id="shoppingList" class="shopping-list"></ul>
          </section>

          <section class="card">
            <h2>Lavagna di casa</h2>
            <form id="boardForm">
              <textarea id="boardInput" rows="2" placeholder="Scrivi un pensiero o comunicazione..."></textarea>
              <button type="submit" class="primary-btn">Pubblica</button>
            </form>
            <ul id="boardMessages" class="board-list"></ul>
          </section>
        </div>
      </main>

      <footer>
        <p>Tip: usa ‚ÄúAggiungi alla schermata Home‚Äù per trasformarla in app üòä</p>
      </footer>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
